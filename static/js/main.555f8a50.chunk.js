(this.webpackJsonpfiction=this.webpackJsonpfiction||[]).push([[0],{118:function(e,t,n){e.exports=n(149)},149:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),l=n(2),i=n(92),u=n(182),s=n(183),d=n(151),m=n(53),f=r.a.createContext({token:null,setToken:function(){}}),p=f,b=r.a.createContext(!1),E=b,O=function(){var e=Object(a.useContext)(E).saved;return r.a.createElement("div",null,e?r.a.createElement(m.a,null,"Saved Changes"):r.a.createElement(m.a,null,"Saving..."))},h=n(181),v=r.a.createContext({current:"",loading:!1,close:function(){}}),g=v,j=function(){var e=Object(a.useContext)(g).open;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{color:"inherit",onClick:function(){return e("SignIn")}},"Login"),r.a.createElement(h.a,{color:"secondary",variant:"contained",onClick:function(){return e("SignUp")}},"Create Account"))},w=n(93),x=n.n(w),y=r.a.createContext({open:null,openDrawer:function(){},closeDrawer:function(){}}),C=y,k=n(5),S=Object(i.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarDrawerOpen:{width:"calc(100% - ".concat(e.drawerWidth,"px)"),marginLeft:e.drawerWidth,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},menuIcon:{marginRight:20},hide:{display:"none"}}})),N=function(){var e=Object(a.useContext)(p).token,t=S(),n=Object(a.useContext)(C),c=n.openDrawer,o=n.drawerOpen;return r.a.createElement("div",{className:t.root},r.a.createElement(u.a,{className:Object(k.a)(t.appBar,o&&t.appBarDrawerOpen)},r.a.createElement(s.a,null,e&&r.a.createElement(d.a,{color:"inherit",className:Object(k.a)(t.menuIcon,o&&t.hide),onClick:c},r.a.createElement(x.a,{color:"inherit"})),r.a.createElement(m.a,{variant:"h5",className:t.title},"Fiction Writer"),e?r.a.createElement(O,null):r.a.createElement(j,null))),r.a.createElement(s.a,null))},P=n(62),T=n(205),D=n(190),A=n(187),I=n(184),L=n(185),J=n(186),B=n(95),F=n.n(B),W=n(9),z=n.n(W),_="https://fiction-api.herokuapp.com",M="http://localhost:4741",R="localhost"===window.location.hostname?M:_,U=n(44),G=n.n(U),H=function(){var e=Object(a.useContext)(p).token;return Object(a.useCallback)((function(t){var n=t.url,a=void 0===n?"":n,r=t.method,c=void 0===r?"GET":r,o=t.data,l=void 0===o?{}:o;return G()({url:"".concat(R,"/").concat(a),method:c,headers:{Authorization:"Bearer "+e},data:l})}),[e])},K=n(20),q=function(e,t){var n,a=t.payload;switch(t.type){case"index":return a.map((function(e){return{id:e._id,text:JSON.parse(e.text),updatedAt:e.updatedAt}})).sort((function(e,t){return Date.parse(t.updatedAt)-Date.parse(e.updatedAt)}));case"show":n=a._id;var r=e.filter((function(e){return e.id!==n})),c=e.find((function(e){return e.id===n}))||{};return c.text=JSON.parse(a.text),c.id=a._id,[].concat(Object(K.a)(r),[c]).sort((function(e,t){return Date.parse(t.updatedAt)-Date.parse(e.updatedAt)}));case"create":var o={id:a._id,text:JSON.parse(a.text),updatedAt:a.updatedAt};return[].concat(Object(K.a)(e),[o]).sort((function(e,t){return Date.parse(t.updatedAt)-Date.parse(e.updatedAt)}));case"update":n=a._id;var l=e.filter((function(e){return e.id!==n})),i=e.find((function(e){return e.id===n}));return i.text=JSON.parse(a.text),[].concat(Object(K.a)(l),[i]);case"destroy":return n=a,e.filter((function(e){return e.id!==n}));default:throw new Error}},$=[],Q=r.a.createContext($),V=r.a.createContext(null),X=Q,Y=n(40),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Y.f)(),n=Object(a.useState)(e.loading),r=Object(l.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(!1),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(a.useContext)(V),f=H(),p=Object(a.useContext)(E),b=p.setSaved,O=Object(a.useCallback)((function(){var e;return z.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),o(!0),t.prev=2,t.next=5,z.a.awrap(f({url:"storys"}));case 5:e=t.sent,m({type:"index",payload:e.data.storys}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),d(!0);case 12:o(!1);case 13:case"end":return t.stop()}}),null,null,[[2,9]])}),[f,m]),h=Object(a.useCallback)((function(e){var t;return z.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!1),o(!0),n.prev=2,n.next=5,z.a.awrap(f({url:"".concat("storys","/").concat(e)}));case 5:t=n.sent,m({type:"show",payload:t.data.story}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),d(!0);case 12:o(!1);case 13:case"end":return n.stop()}}),null,null,[[2,9]])}),[f,m]),v=Object(a.useCallback)((function(e){var n;return z.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return d(!1),o(!0),a.prev=2,a.next=5,z.a.awrap(f({url:"storys",method:"POST",data:{story:{text:e}}}));case 5:n=a.sent,m({type:"create",payload:n.data.story}),t.push("/stories/"+n.data.story._id),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),d(!0);case 13:o(!1);case 14:case"end":return a.stop()}}),null,null,[[2,10]])}),[f,m,t]),g=Object(a.useCallback)((function(e,t){return z.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!1),o(!0),n.prev=2,n.next=5,z.a.awrap(f({url:"".concat("storys","/").concat(e),method:"PATCH",data:{story:{text:t}}}));case 5:b(!0),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),d(!0);case 11:o(!1);case 12:case"end":return n.stop()}}),null,null,[[2,8]])}),[f,b]),j=Object(a.useCallback)((function(e){return z.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),o(!0),t.prev=2,t.next=5,z.a.awrap(f({url:"".concat("storys","/").concat(e),method:"DELETE"}));case 5:m({type:"destroy",payload:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),d(!0);case 11:o(!1);case 12:case"end":return t.stop()}}),null,null,[[2,8]])}),[f,m]);return{index:O,show:h,create:v,update:g,destroy:j,loading:c,error:s}},ee=n(145),te=function(){return function(){return JSON.stringify([{type:"h4",children:[{text:ee().spaced}]},{type:"body1",children:[{text:"Write your fantastic story here..."}]}])}},ne=function(){var e=te(),t=Z().create;return r.a.createElement(I.a,{button:!0,onClick:function(){t(e())}},r.a.createElement(L.a,null,r.a.createElement(F.a,null)),r.a.createElement(J.a,{primary:"New Story"}))},ae=n(188),re=n(97),ce=n.n(re),oe=n(98),le=n.n(oe),ie=n(96),ue=n.n(ie),se=Object(i.a)((function(e){return{nested:{marginLeft:e.spacing(4)}}})),de=function(){var e=Object(a.useContext)(X),t=se(),n=Object(Y.f)();return r.a.createElement(A.a,{component:"div",disablePadding:!0,className:t.nested},e.map((function(e){return r.a.createElement(I.a,{key:e.id,button:!0,onClick:function(){return t=e.id,void n.push("/stories/"+t);var t}},r.a.createElement(J.a,{primary:e.text[0].children[0].text}))})))},me=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{button:!0,onClick:function(){return c(!n)}},r.a.createElement(L.a,null,r.a.createElement(ue.a,null)),r.a.createElement(J.a,{primary:"My Stories"}),n?r.a.createElement(ce.a,null):r.a.createElement(le.a,null)),r.a.createElement(ae.a,{in:n,timeout:"auto",unmountOnExit:!0},r.a.createElement(de,null)))},fe=n(101),pe=n.n(fe),be=n(99),Ee=n.n(be),Oe=function(){var e=Object(Y.f)();return r.a.createElement(I.a,{button:!0,onClick:function(){e.push("/profile")}},r.a.createElement(L.a,null,r.a.createElement(Ee.a,null)),r.a.createElement(J.a,{primary:"Profile"}))},he=n(100),ve=n.n(he),ge=function(){var e=Object(Y.f)();return r.a.createElement(I.a,{button:!0,onClick:function(){e.push("/settings")}},r.a.createElement(L.a,null,r.a.createElement(ve.a,null)),r.a.createElement(J.a,{primary:"Settings"}))},je=Object(i.a)((function(e){return{drawer:{width:0,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},drawerOpen:{width:e.drawerWidth,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},nested:{paddingLeft:e.spacing(4)},drawerPaper:{width:e.drawerWidth},toolbar:Object(P.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)}})),we=function(){var e=Z().index,t=Object(a.useContext)(C),n=t.drawerOpen,c=t.closeDrawer;Object(a.useEffect)((function(){e()}),[e]);var o=je();return r.a.createElement(T.a,{variant:"persistent",open:n,className:Object(k.a)(o.drawer,n&&o.drawerOpen),classes:{paper:o.drawerPaper}},r.a.createElement("div",{className:o.toolbar},r.a.createElement(d.a,{onClick:c},r.a.createElement(pe.a,null))),r.a.createElement(D.a,null),r.a.createElement(A.a,null,r.a.createElement(ne,null),r.a.createElement(me,null),r.a.createElement(D.a,null),r.a.createElement(Oe,null),r.a.createElement(ge,null)))},xe=Object(i.a)((function(e){return{root:{display:"flex"}}})),ye=function(e){var t=e.children,n=xe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement("div",{className:n.root},r.a.createElement(we,null),t))},Ce=r.a.createContext({}),ke=function(e){var t=e.children,n=Object(Y.g)().id,c=Z(),o=c.show,l=c.loading,i=c.error,u=Z().update,s=Object(a.useCallback)((function(e){u(n,JSON.stringify(e))}),[n,u]),d=Z().destroy,m=Object(a.useCallback)((function(){d(n)}),[n,d]);Object(a.useEffect)((function(){o(n)}),[n,o]);var f=Object(a.useContext)(X).find((function(e){return e.id===n}));return f?r.a.createElement(Ce.Provider,{value:{story:f,loading:l,error:i,update:s,destroy:m}},t):null},Se=Ce,Ne=n(152),Pe=n(68),Te=n(4),De=function(){var e=Object(a.useContext)(Se),t=e.update,n=e.story,r=Object(a.useState)(n.text),c=Object(l.a)(r,2),o=c[0],i=c[1],u=Object(a.useContext)(E).setSaved;return Object(a.useEffect)((function(){u(!1);var e=setTimeout((function(){t(o)}),1e3);return function(){clearTimeout(e)}}),[o,u,t]),[o,i]},Ae=function(){return function(e){return r.a.createElement(m.a,Object.assign({variant:e.element.type},e))}},Ie=function(){return function(e){var t=e.leaf.color,n=void 0===t?"inherit":t;return r.a.createElement("span",Object.assign({style:{color:n}},e.attributes),e.children)}},Le=function(){var e=[];return Object(a.useCallback)((function(t){var n=Object(l.a)(t,2),a=n[0],r=n[1],c=[];return e.forEach((function(e){if(e[0]&&Te.f.isText(a)){var t=a.text.split(e[0]),n=0;t.forEach((function(t,a){0!==a&&c.push({anchor:{path:r,offset:n-e[0].length},focus:{path:r,offset:n},color:e[1]}),n=n+t.length+e[0].length}))}})),c}),[e])},Je=function(){return function(e,t){return"7"===e.key&&e.ctrlKey,null}},Be=function(e){var t=e.normalizeNode;return e.normalizeNode=function(n){var a=Object(l.a)(n,2),r=a[0],c=a[1];if(0===c.length){var o=!0,i=!1,u=void 0;try{for(var s,d=Te.c.children(e,c)[Symbol.iterator]();!(o=(s=d.next()).done);o=!0){var m=s.value,f=Object(l.a)(m,2),p=f[0],b=f[1],E=0===b[0]?"h4":"body1";p.type!==E&&Te.g.setNodes(e,{type:E},{at:b})}}catch(O){i=!0,u=O}finally{try{o||null==d.return||d.return()}finally{if(i)throw u}}}return t([r,c])},e},Fe=Object(i.a)((function(e){return{root:{width:400,background:e.palette.background.paper,boxShadow:e.shadows[3],margin:"20px auto 0",padding:20}}})),We=function(){var e=Fe(),t=Object(a.useMemo)((function(){return Object(Pe.c)(Be(Object(Te.h)()))}),[]),n=De(),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Ae(),s=Ie(),d=Le(),m=Je();return Object(a.useEffect)((function(){}),[]),r.a.createElement(Ne.a,{in:!0,direction:"up"},r.a.createElement("div",{className:e.root},r.a.createElement("div",null,r.a.createElement(Pe.b,{editor:t,value:o,onChange:i},r.a.createElement(Pe.a,{placeholder:"Title...",renderElement:u,renderLeaf:s,decorate:d,onKeyDown:function(e){return m(e,t)}})))))},ze=function(){var e=Object(a.useContext)(Se),t=e.loading;if(e.error);else if(!t)return r.a.createElement(We,null);return null},_e=n(191),Me=Object(i.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Re=function(){var e=Me();return r.a.createElement("div",{className:e.root},r.a.createElement(_e.a,null))},Ue=n(204),Ge=n(201),He=Object(i.a)((function(e){return{root:{textAlign:"center",width:"100%",padding:20}}})),Ke=function(e){var t=e.message,n=e.alertMessage,c=He(),o=Object(a.useState)(!0),i=Object(l.a)(o,2),u=i[0],s=i[1],d=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.root},r.a.createElement(m.a,{variant:"h3"},t)),r.a.createElement(Ue.a,{open:u,autoHideDuration:6e3,onClose:d},r.a.createElement(Ge.a,{onClose:d,severity:"error"},n||t)))},qe=n(193),$e=n(105),Qe=n.n($e),Ve=Object(i.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"center",paddingTop:20},list:{background:e.palette.background.paper,width:400}}})),Xe=function(){var e=Object(Y.f)(),t=Z().destroy,n=Ve(),c=Object(a.useContext)(X);return r.a.createElement("div",{className:n.root},r.a.createElement(A.a,{className:n.list},c.map((function(n){return r.a.createElement(I.a,{button:!0,key:n.id,onClick:function(){return t=n.id,void e.push("/stories/"+t);var t}},r.a.createElement(J.a,{primary:n.text[0].children[0].text}),r.a.createElement(qe.a,null,r.a.createElement(d.a,{edge:"end",onClick:function(){return e=n.id,void t(e);var e}},r.a.createElement(Qe.a,null))))}))))},Ye=function(){var e=Z({loading:!0}),t=e.index,n=e.loading,c=e.error;return Object(a.useEffect)((function(){t()}),[t]),c?r.a.createElement(Ke,{message:"Oops. We can't find your stories",alertMessage:"Couldn't find stories"}):n?r.a.createElement(Re,null):r.a.createElement(Xe,null)},Ze=function(){return r.a.createElement("div",null,"404 not found")},et=n(202),tt=n(189),nt=Object(i.a)((function(e){return{paper:{position:"absolute",left:"50%",top:"50%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:e.shape.borderRadius,transform:"translate(-50%, -50%)"}}})),at=function(e){var t=e.name,n=e.children,c=Object(a.useContext)(g),o=c.current,l=c.close,i=c.setLoading,u=c.error,s=c.setError,d=nt();return r.a.createElement(et.a,{className:d.modal,open:o===t,onClose:function(){s(!1),i(!1),l()},closeAfterTransition:!0,BackdropComponent:tt.a,BackdropProps:{timeout:100}},r.a.createElement(Ne.a,{in:o===t},r.a.createElement("div",{className:d.paper},u&&r.a.createElement(Ge.a,{severity:"error"},"Failed"),n)))},rt=n(194),ct=n(200),ot=n(196),lt=n(203),it=n(195),ut=function(e){var t=Object(a.useState)(e),n=Object(l.a)(t,2),r=n[0],c=n[1];return[r,{value:r,onChange:function(e){return c(e.target.value)}},Object(a.useCallback)((function(){return c("")}),[c])]},st=function(e){return G()({url:R+"/sign-in",method:"POST",data:{credentials:{email:e.email,password:e.password}}})},dt=function(){var e=Object(a.useContext)(g),t=e.setLoading,n=e.close,r=e.setError,c=Object(a.useContext)(p),o=c.token,l=c.setToken,i=Object(Y.f)();return{signUp:function(e){t(!0),r(!1),function(e){return G()({method:"POST",url:R+"/sign-up",data:{credentials:{email:e.email,password:e.password,password_confirmation:e.passwordConfirmation}}})}(e).then((function(){t(!0),r(!1),st(e).then((function(e){var a=e.data;l(a.user.token),t(!1),localStorage.setItem("token",JSON.stringify(a.user.token)),n()})).catch((function(){t(!1),r(!0)})),t(!1),n()})).catch((function(){t(!1),r(!0)}))},signIn:function(e){t(!0),r(!1),st(e).then((function(e){var a=e.data;l(a.user.token),t(!1),localStorage.setItem("token",JSON.stringify(a.user.token)),n()})).catch((function(){t(!1),r(!0)}))},signOut:function(){t(!0),r(!1);var e=o;l(""),i.push("/"),function(e){return G()({url:R+"/sign-out",method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})}(o).then((function(){t(!1),localStorage.removeItem("token")})).catch((function(){l(e),t(!1),r(!0)}))},changePassword:function(e){t(!0),r(!1),function(e,t){return G()({url:R+"/change-password",method:"PATCH",headers:{Authorization:"Token token=".concat(e)},data:{passwords:{old:t.oldPassword,new:t.newPassword}}})}(o,e).then((function(){t(!1)})).catch((function(){t(!1),r(!0)}))}}},mt=Object(i.a)((function(){return{root:{display:"grid",gridTemplateRows:"80px 1fr 1fr 1fr 80px",alignItems:"center",gridGap:"20px",gridTemplateColumns:"300px"}}})),ft=function(){var e=Object(a.useContext)(g).current,t=mt(),n=dt().signUp,c=ut(""),o=Object(l.a)(c,3),i=o[0],u=o[1],s=o[2],d=ut(""),f=Object(l.a)(d,3),p=f[0],b=f[1],E=f[2],O=ut(""),v=Object(l.a)(O,3),j=v[0],w=v[1],x=v[2];Object(a.useEffect)((function(){s(),E(),x()}),[e,s,E,x]);return r.a.createElement(at,{name:"SignUp"},r.a.createElement(rt.a,{required:!0,error:!1,className:t.root},r.a.createElement(m.a,{variant:"h4"},"Sign Up"),r.a.createElement(ct.a,Object.assign({label:"Email"},u,{autoFocus:!0})),r.a.createElement(ct.a,Object.assign({type:"password",label:"Password"},b)),r.a.createElement(ct.a,Object.assign({type:"password",label:"Confirm"},w)),r.a.createElement("div",null,r.a.createElement(ot.a,{control:r.a.createElement(lt.a,null),label:"This is not my real email"})),r.a.createElement(h.a,{onClick:function(){n({email:i,password:p,passwordConfirmation:j})},variant:"contained",color:"primary"},"Create Account"),r.a.createElement(it.a,null,"Label")))},pt=function(){var e=ut(""),t=Object(l.a)(e,3),n=t[0],c=t[1],o=t[2],i=ut(""),u=Object(l.a)(i,3),s=u[0],d=u[1],m=u[2],f=dt().signIn,p=Object(a.useContext)(g).current;Object(a.useEffect)((function(){m(),o()}),[p,m,o]);return r.a.createElement(at,{name:"SignIn"},r.a.createElement(ct.a,Object.assign({type:"email",label:"Email"},c,{autoFocus:!0})),r.a.createElement(ct.a,Object.assign({type:"password",label:"Password"},d)),r.a.createElement(h.a,{onClick:function(){f({email:n,password:s})}},"Login"))},bt=function(){var e=ut(""),t=Object(l.a)(e,3),n=t[0],c=t[1],o=t[2],i=ut(""),u=Object(l.a)(i,3),s=u[0],d=u[1],m=u[2],f=dt().changePassword,p=Object(a.useContext)(g).current;return Object(a.useEffect)((function(){m(),o()}),[p,o,m]),r.a.createElement(at,{name:"ChangePassword"},r.a.createElement(ct.a,Object.assign({type:"oldPassword",label:"old password"},c,{autoFocus:!0})),r.a.createElement(ct.a,Object.assign({type:"newPassword",label:"new"},d)),r.a.createElement(h.a,{onClick:function(){f({oldPassword:n,newPassword:s})}},"Change"))},Et=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,null),r.a.createElement(pt,null),r.a.createElement(bt,null))},Ot=Object(i.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(10)}}})),ht=function(){var e=Ot(),t=Object(a.useContext)(X),n=dt().signOut,c=Object(a.useContext)(g).open;return r.a.createElement(Ne.a,{in:!0},r.a.createElement("div",{className:e.root},r.a.createElement(m.a,{variant:"h2",align:"center"},"Total stories: ",t.length,", keep writing!"),r.a.createElement(h.a,{style:{marginTop:"20px"},variant:"outlined",onClick:function(){n()}},"Log out"),r.a.createElement(h.a,{style:{marginTop:"20px"},variant:"outlined",onClick:function(){c("ChangePassword")}},"Change Password")))},vt=n(198),gt=n(108),jt=n(197),wt={drawerWidth:240},xt=r.a.createContext(wt),yt=xt,Ct=Object(i.a)((function(e){return{root:{padding:e.spacing(5),display:"flex",flexDirection:"row",alignItems:"center"}}})),kt=function(){var e=Ct(),t=Object(a.useContext)(yt);return r.a.createElement(Ne.a,{in:!0},r.a.createElement("div",{className:e.root},r.a.createElement(m.a,{variant:"h5"},"Dark Mode:"),r.a.createElement(vt.a,{onChange:function(e){t((function(t){return Object(P.a)({},t,{palette:{type:e.target.checked?"dark":"light"}})}))}})))},St=Object(i.a)((function(e){return{absolute:{position:"absolute",zIndex:9999999,bottom:40,left:"50%"}}})),Nt=function(){var e=St(),t=Object(a.useContext)(p).token,n=Object(a.useState)(!1),c=Object(l.a)(n,2),o=c[0],i=c[1];return o&&setTimeout((function(){i(!1)}),2e3),Object(a.useEffect)((function(){i(!!t)}),[t]),r.a.createElement(ye,null,r.a.createElement("div",{className:e.absolute},o&&r.a.createElement(Ge.a,{severity:"success"},"Success")),r.a.createElement(Et,null),r.a.createElement(Y.c,null,r.a.createElement(Y.a,{path:"/404"},r.a.createElement(Ze,null)),r.a.createElement(Y.a,{exact:!0,path:"/stories"},r.a.createElement(Ye,null)),r.a.createElement(Y.a,{path:"/stories/:id"},r.a.createElement(ke,null,r.a.createElement(ze,null))),r.a.createElement(Y.a,{path:"/profile"},r.a.createElement(ht,null)),r.a.createElement(Y.a,{path:"/settings"},r.a.createElement(kt,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pt=n(199),Tt=n(32),Dt=r.a.createElement((function(e){var t=e.children,n=Object(a.useState)(JSON.parse(localStorage.getItem("token"))||null),c=Object(l.a)(n,2),o=c[0],i=c[1],u={token:o,setToken:Object(a.useCallback)((function(e){i(e)}),[])};return r.a.createElement(f.Provider,{value:u},t)}),null,r.a.createElement((function(e){var t=e.children,n=Object(a.useState)("none"),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(a.useState)(!1),s=Object(l.a)(u,2),d=s[0],m=s[1],f=Object(a.useState)(!1),p=Object(l.a)(f,2),b={current:o,loading:d,setLoading:m,error:p[0],setError:p[1],close:function(){i("none")},open:function(e){i(e)}};return r.a.createElement(v.Provider,{value:b},t)}),null,r.a.createElement((function(e){var t=e.children,n=Object(a.useState)(wt),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(a.useState)(Object(gt.a)(o)),s=Object(l.a)(u,2),d=s[0],m=s[1];return Object(a.useEffect)((function(){m(Object(gt.a)(o))}),[o]),r.a.createElement(jt.a,{theme:d},r.a.createElement(xt.Provider,{value:i},t))}),null,r.a.createElement(Tt.a,null,r.a.createElement((function(e){var t=e.children,n=Object(a.useReducer)(q,$),c=Object(l.a)(n,2),o=c[0],i=c[1];return r.a.createElement(Q.Provider,{value:o},r.a.createElement(V.Provider,{value:i},t))}),null,r.a.createElement((function(e){var t=e.children,n=Object(a.useContext)(p).token,c=Object(a.useState)(!!n),o=Object(l.a)(c,2),i=o[0],u=o[1];return Object(a.useEffect)((function(){u(!!n)}),[n]),r.a.createElement(y.Provider,{value:{drawerOpen:i,openDrawer:function(){u(!!n)},closeDrawer:function(){u(!1)}}},t)}),null,r.a.createElement((function(e){var t=e.children,n=Object(a.useState)(!0),c=Object(l.a)(n,2),o=c[0],i=c[1];return r.a.createElement(b.Provider,{value:{saved:o,setSaved:i}},t)}),null,r.a.createElement(Pt.a,null),r.a.createElement(Nt,null))))))));o.a.render(Dt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[118,1,2]]]);
//# sourceMappingURL=main.555f8a50.chunk.js.map