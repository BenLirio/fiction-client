{"version":3,"sources":["context/user-context.js","context/saving-data.js","Layout/Header/AuthHeader/AuthHeader.js","context/modal-context.js","Layout/Header/GuestHeader/GuestHeader.js","context/drawer-context.js","Layout/Header/Header.js","apiConfig.js","hooks/useAjax.js","reducers/storysReducer.js","context/storys-context.js","hooks/useStorysApi.js","hooks/useRandomName.js","Layout/PermanentDrawer/NewStory.js","Layout/PermanentDrawer/CollapsedList.js","Layout/PermanentDrawer/StoryList.js","Layout/PermanentDrawer/ProfileItem.js","Layout/PermanentDrawer/SettingsItem.js","Layout/PermanentDrawer/PermanentDrawer.js","Layout/Layout.js","context/current-story-context.js","components/Page/usePageState.js","components/Page/useCustomElements.js","components/Page/useCustomLeaf.js","components/Page/usePageDoctorate.js","components/Page/usePageEvents.js","components/Page/withLayout.js","components/Page/Page.js","views/Story.js","views/Loading.js","views/ErrorBar.js","views/StorysList.js","views/Storys.js","views/NotFound.js","components/Modal/StyledModal/StyledModal.js","hooks/useInput.js","api/auth.js","hooks/useAuth.js","components/Modal/SignUpModal/SignUpModal.js","components/Modal/SignIn/SignIn.js","components/Modal/ChangePasswordModal/ChangePasswordModal.js","components/Modal/Modals.js","views/Profile.js","theme.js","views/Settings.js","App.js","serviceWorker.js","index.js"],"names":["userContext","React","createContext","token","setToken","SavedContext","AuthHeader","saved","useContext","Typography","modalContext","current","loading","close","GuestHeader","open","Button","color","onClick","variant","DrawerContext","openDrawer","closeDrawer","useStyles","makeStyles","theme","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarDrawerOpen","width","drawerWidth","marginLeft","easeOut","enteringScreen","title","flexGrow","menuIcon","marginRight","hide","Header","classes","drawerOpen","className","AppBar","clsx","Toolbar","IconButton","apiUrls","apiUrl","window","location","hostname","useAjax","useCallback","url","method","data","Axios","headers","Authorization","storysReducer","state","action","id","payload","type","map","i","_id","text","JSON","parse","updatedAt","sort","a","b","Date","rest","filter","found","find","created","Error","initialStorysState","storysContext","storysContextDispatchProvider","useStorysApi","options","history","useHistory","useState","setLoading","error","setError","dispatch","ajax","setSaved","index","async","res","storys","show","story","push","update","destroy","generate","require","useRandomNameGenerator","stringify","children","spaced","NewStory","generator","ListItem","button","ListItemIcon","ListItemText","primary","nested","spacing","CollapsedList","List","component","disablePadding","key","StoryList","expanded","setExpanded","Collapse","in","timeout","unmountOnExit","ProfileItem","SettingsItem","paddingLeft","drawerPaper","toolbar","alignItems","justifyContent","padding","mixins","PermanentDrawer","useEffect","Drawer","paper","Divider","Layout","currentStoryContext","CurrentStoryContextProvider","useParams","idUpdate","idDestroy","Provider","value","usePageState","setValue","updateTimer","setTimeout","clearTimeout","useCustomElements","props","element","useCustomLeaf","leaf","style","attributes","usePageDoctorate","searches","node","path","ranges","forEach","search","Text","isText","parts","split","offset","part","anchor","length","focus","usePageEvents","event","editor","ctrlKey","withLayout","normalizeNode","Node","child","childPath","Transforms","setNodes","at","background","palette","boxShadow","shadows","margin","Page","useMemo","withReact","createEditor","renderElement","renderLeaf","decorate","onEvents","Fade","direction","onChange","placeholder","onKeyDown","Story","marginTop","Loading","LinearProgress","textAlign","ErrorBar","message","alertMessage","setOpen","handleClose","Snackbar","autoHideDuration","onClose","Alert","severity","paddingTop","list","StorysList","ListItemSecondaryAction","edge","Stroys","indexLoading","indexError","NotFound","position","left","top","backgroundColor","borderRadius","shape","transform","StyledModal","name","Modal","modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","useInput","initialValue","e","target","signIn","credentials","axios","email","password","useAuth","signUp","password_confirmation","passwordConfirmation","then","user","localStorage","setItem","catch","signOut","temp","removeItem","changePassword","passwords","old","oldPassword","new","newPassword","gridTemplateRows","gridGap","gridTemplateColumns","SignUpModal","bindEmail","resetEmail","bindPassword","resetPassword","bindPasswordConfirmation","resetPasswordConfirmation","FormControl","required","TextField","label","autoFocus","FormControlLabel","control","Checkbox","FormLabel","SignInModal","ChangePasswordModal","bindOldPassword","resetOldPassword","bindNewPassword","resetNewPassword","Modals","SignIn","flexDirection","Profile","align","defaultTheme","ThemeEditor","Settings","editTheme","Switch","checked","absolute","bottom","App","success","setSuccess","exact","Storys","Boolean","match","rootJsx","getItem","userState","pToken","setCurrent","modalState","pojoTheme","setPojoTheme","createMuiTheme","setTheme","ThemeProvider","useReducer","setDrawerOpen","CssBaseline","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2e73f0da.chunk.js","sourcesContent":["import React, { useState, useCallback } from 'react'\n\nconst initialUserState = {\n  token: null,\n  setToken: () => {}\n}\n\nconst userContext = React.createContext(initialUserState)\n\nexport const UserContextProvider = ({ children }) => {\n  const [token, setToken] = useState(\n    JSON.parse(localStorage.getItem('token')) || null\n  )\n\n  const setTokenCallback = useCallback(pToken => {\n    setToken(pToken)\n  }, [])\n  const userState = {\n    token,\n    setToken: setTokenCallback\n  }\n\n  return (\n    <userContext.Provider value={userState}>{children}</userContext.Provider>\n  )\n}\n\nexport default userContext\n","import React, { useState } from 'react'\nconst SavedContext = React.createContext(false)\n\nexport const SavedContextProvider = ({ children }) => {\n  const [saved, setSaved] = useState(true)\n  return (\n    <SavedContext.Provider value={{ saved, setSaved }}>\n      {children}\n    </SavedContext.Provider>\n  )\n}\n\nexport default SavedContext\n","import React, { useContext } from 'react'\nimport SavedContext from '../../../context/saving-data'\nimport { Typography } from '@material-ui/core'\n\nconst AuthHeader = () => {\n  const { saved } = useContext(SavedContext)\n  return (\n    <div>\n      {saved ? (\n        <Typography>Saved Changes</Typography>\n      ) : (\n        <Typography>Saving...</Typography>\n      )}\n    </div>\n  )\n}\nexport default AuthHeader\n","import React, { useState } from 'react'\n\nconst initialModalState = {\n  current: '',\n  loading: false,\n  close: () => {}\n}\n\nconst modalContext = React.createContext(initialModalState)\n\nexport const ModalContextProvider = ({ children }) => {\n  const [current, setCurrent] = useState('none')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(false)\n  const modalState = {\n    current,\n    loading,\n    setLoading,\n    error,\n    setError,\n    close: () => {\n      setCurrent('none')\n    },\n    open: modal => {\n      setCurrent(modal)\n    }\n  }\n\n  return (\n    <modalContext.Provider value={modalState}>{children}</modalContext.Provider>\n  )\n}\n\nexport default modalContext\n","import React, { useContext } from 'react'\nimport { Button } from '@material-ui/core'\nimport modalContext from '../../../context/modal-context'\n\nconst GuestHeader = () => {\n  const { open } = useContext(modalContext)\n  return (\n    <>\n      <Button color=\"inherit\" onClick={() => open('SignIn')}>\n        Login\n      </Button>\n      <Button\n        color=\"secondary\"\n        variant=\"contained\"\n        onClick={() => open('SignUp')}\n      >\n        Create Account\n      </Button>\n    </>\n  )\n}\n\nexport default GuestHeader\n","import React, { useState, useContext, useEffect } from 'react'\nimport userContext from './user-context'\n\nconst initialDrawerState = {\n  open: null,\n  openDrawer: () => {},\n  closeDrawer: () => {}\n}\n\nconst DrawerContext = React.createContext(initialDrawerState)\n\nexport const DrawerContextProvider = ({ children }) => {\n  const { token } = useContext(userContext)\n  const [drawerOpen, setDrawerOpen] = useState(token ? true : false)\n  const openDrawer = () => {\n    setDrawerOpen(token ? true : false)\n  }\n  const closeDrawer = () => {\n    setDrawerOpen(false)\n  }\n  useEffect(() => {\n    setDrawerOpen(token ? true : false)\n  }, [token])\n  return (\n    <DrawerContext.Provider\n      value={{\n        drawerOpen,\n        openDrawer,\n        closeDrawer\n      }}\n    >\n      {children}\n    </DrawerContext.Provider>\n  )\n}\n\nexport default DrawerContext\n","import React, { useContext } from 'react'\nimport {\n  AppBar,\n  Toolbar,\n  makeStyles,\n  Typography,\n  IconButton\n} from '@material-ui/core'\nimport userContext from '../../context/user-context'\nimport AuthHeader from './AuthHeader/AuthHeader'\nimport GuestHeader from './GuestHeader/GuestHeader'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport DrawerContext from '../../context/drawer-context'\nimport clsx from 'clsx'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarDrawerOpen: {\n    width: `calc(100% - ${theme.drawerWidth}px)`,\n    marginLeft: theme.drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  title: {\n    flexGrow: 1\n  },\n  menuIcon: {\n    marginRight: 20\n  },\n  hide: {\n    display: 'none'\n  }\n}))\n\nconst Header = () => {\n  const { token } = useContext(userContext)\n  const classes = useStyles()\n  const { openDrawer, drawerOpen } = useContext(DrawerContext)\n\n  return (\n    <div className={classes.root}>\n      <AppBar\n        className={clsx(classes.appBar, drawerOpen && classes.appBarDrawerOpen)}\n      >\n        <Toolbar>\n          {token && (\n            <IconButton\n              color=\"inherit\"\n              className={clsx(classes.menuIcon, drawerOpen && classes.hide)}\n              onClick={openDrawer}\n            >\n              <MenuIcon color=\"inherit\" />\n            </IconButton>\n          )}\n          <Typography variant=\"h5\" className={classes.title}>\n            Fiction Writer\n          </Typography>\n          {token ? <AuthHeader /> : <GuestHeader />}\n        </Toolbar>\n      </AppBar>\n      <Toolbar />\n    </div>\n  )\n}\n\nexport default Header\n","let apiUrl\nconst apiUrls = {\n  production: 'https://fiction-api.herokuapp.com',\n  development: 'http://localhost:4741'\n}\n\nif (window.location.hostname === 'localhost') {\n  apiUrl = apiUrls.development\n} else {\n  apiUrl = apiUrls.production\n}\n\nexport default apiUrl\n","import { useContext, useCallback } from 'react'\nimport userContext from '../context/user-context'\nimport apiUrl from '../apiConfig'\nimport Axios from 'axios'\n\nconst useAjax = () => {\n  const { token } = useContext(userContext)\n  return useCallback(\n    ({ url = '', method = 'GET', data = {} }) => {\n      return Axios({\n        url: `${apiUrl}/${url}`,\n        method,\n        headers: {\n          Authorization: 'Bearer ' + token\n        },\n        data\n      })\n    },\n    [token]\n  )\n}\n\nexport default useAjax\n","// This function is read only\n// If you want to write to the state please refer to\n// use story api.js\nconst storysReducer = (state, action) => {\n  const { payload } = action\n  let id\n  switch (action.type) {\n    // Index takes in an array and sets all state to the array\n    // first mapping over the items and only getting data and id\n    // When indexing all sort by date\n    case 'index': {\n      return payload\n        .map(i => ({\n          id: i._id,\n          text: JSON.parse(i.text),\n          updatedAt: i.updatedAt\n        }))\n        .sort((a, b) => Date.parse(b.updatedAt) - Date.parse(a.updatedAt))\n    }\n    case 'show': {\n      id = payload._id\n      const rest = state.filter(i => i.id !== id)\n      const found = state.find(i => i.id === id) || {}\n      found.text = JSON.parse(payload.text)\n      found.id = payload._id\n      return [...rest, found].sort(\n        (a, b) => Date.parse(b.updatedAt) - Date.parse(a.updatedAt)\n      )\n    }\n    // create takes maps the object and adds it at the end of the array\n    case 'create': {\n      const created = {\n        id: payload._id,\n        text: JSON.parse(payload.text),\n        updatedAt: payload.updatedAt\n      }\n      return [...state, created].sort(\n        (a, b) => Date.parse(b.updatedAt) - Date.parse(a.updatedAt)\n      )\n    }\n    // Update takes in an id and data\n    case 'update': {\n      id = payload._id\n      const rest = state.filter(i => i.id !== id)\n      const found = state.find(i => i.id === id)\n      found.text = JSON.parse(payload.text)\n      return [...rest, found]\n    }\n    case 'destroy': {\n      id = payload\n      return state.filter(i => i.id !== id)\n    }\n    default: {\n      throw new Error()\n    }\n  }\n}\n\nexport default storysReducer\n","import React, { useReducer } from 'react'\nimport storysReducer from '../reducers/storysReducer'\n\nconst initialStorysState = []\n\nconst storysContext = React.createContext(initialStorysState)\nexport const storysContextDispatchProvider = React.createContext(null)\n\nexport const StorysContextProvider = ({ children }) => {\n  const [storys, dispatch] = useReducer(storysReducer, initialStorysState)\n  return (\n    <storysContext.Provider value={storys}>\n      <storysContextDispatchProvider.Provider value={dispatch}>\n        {children}\n      </storysContextDispatchProvider.Provider>\n    </storysContext.Provider>\n  )\n}\n\nexport default storysContext\n","import useAjax from './useAjax'\nimport { useCallback, useContext, useState } from 'react'\nimport { storysContextDispatchProvider } from '../context/storys-context'\nimport { useHistory } from 'react-router-dom'\nimport SavedContext from '../context/saving-data'\n\nconst url = 'storys'\n\nconst useStorysApi = (options = {}) => {\n  // SHOULD NOT KNOW HISTORY, I JUST HAVE NO OTHER WAY TO\n  // SHOW NEW STORY DIRECTLY AFTER CREATED\n  // In the future I should accept callbacks\n  const history = useHistory()\n  // Let user have access to the status\n  const [loading, setLoading] = useState(options.loading)\n  const [error, setError] = useState(false)\n  // Allow server api to dispatch to the context\n  const dispatch = useContext(storysContextDispatchProvider)\n  // Requests should use the ajax format\n  const ajax = useAjax()\n  const { setSaved } = useContext(SavedContext)\n\n  // INDEX\n  const index = useCallback(async () => {\n    setError(false)\n    setLoading(true)\n    let res\n    try {\n      res = await ajax({ url })\n      // Successfully indexed, set the storys state\n      dispatch({ type: 'index', payload: res.data.storys })\n    } catch (error) {\n      // Failed to index\n      setError(true)\n    }\n    setLoading(false)\n  }, [ajax, dispatch])\n\n  // SHOW\n  const show = useCallback(\n    async id => {\n      setError(false)\n      setLoading(true)\n      let res\n      try {\n        res = await ajax({ url: `${url}/${id}` })\n        // Successfully found story, add it to state\n        dispatch({ type: 'show', payload: res.data.story })\n      } catch (error) {\n        // Failed to show\n        setError(true)\n      }\n      setLoading(false)\n    },\n    [ajax, dispatch]\n  )\n\n  // CREATE\n  const create = useCallback(\n    async data => {\n      setError(false)\n      setLoading(true)\n      let res\n      try {\n        res = await ajax({\n          url,\n          method: 'POST',\n          data: {\n            story: {\n              text: data\n            }\n          }\n        })\n        // Created story\n        dispatch({ type: 'create', payload: res.data.story })\n        history.push('/stories/' + res.data.story._id)\n      } catch (error) {\n        // Failed to create story\n        setError(true)\n      }\n      setLoading(false)\n    },\n    [ajax, dispatch, history]\n  )\n\n  // PATCH\n  const update = useCallback(\n    async (id, data) => {\n      setError(false)\n      setLoading(true)\n      try {\n        await ajax({\n          url: `${url}/${id}`,\n          method: 'PATCH',\n          data: {\n            story: {\n              text: data\n            }\n          }\n        })\n        // Updated a story\n        setSaved(true)\n      } catch (error) {\n        // Failed to update story\n        setError(true)\n      }\n      setLoading(false)\n    },\n    [ajax, setSaved]\n  )\n\n  // DELETE\n  const destroy = useCallback(\n    async id => {\n      setError(false)\n      setLoading(true)\n      try {\n        await ajax({\n          url: `${url}/${id}`,\n          method: 'DELETE'\n        })\n        // Successfully Deleted a story\n        dispatch({ type: 'destroy', payload: id })\n      } catch (error) {\n        // Failed to delete a story\n        setError(true)\n      }\n      setLoading(false)\n    },\n    [ajax, dispatch]\n  )\n  return {\n    index,\n    show,\n    create,\n    update,\n    destroy,\n    loading,\n    error\n  }\n}\nexport default useStorysApi\n","const generate = require('project-name-generator')\n\nconst useRandomNameGenerator = () => {\n  const generator = () => {\n    return JSON.stringify([\n      {\n        type: 'h4',\n        children: [{ text: generate().spaced }]\n      },\n      {\n        type: 'body1',\n        children: [{ text: 'Write your fantastic story here...' }]\n      }\n    ])\n  }\n  return generator\n}\nexport default useRandomNameGenerator\n","import React from 'react'\nimport { ListItem, ListItemIcon, ListItemText } from '@material-ui/core'\nimport AddBoxIcon from '@material-ui/icons/AddBox'\nimport useStorysApi from '../../hooks/useStorysApi'\nimport useRandomNameGenerator from '../../hooks/useRandomName'\n\nconst NewStory = () => {\n  const generator = useRandomNameGenerator()\n  const { create } = useStorysApi()\n  const onCreateStory = () => {\n    create(generator())\n  }\n  return (\n    <ListItem button onClick={onCreateStory}>\n      <ListItemIcon>\n        <AddBoxIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"New Story\" />\n    </ListItem>\n  )\n}\n\nexport default NewStory\n","import React, { useContext } from 'react'\nimport { List, ListItem, ListItemText, makeStyles } from '@material-ui/core'\nimport storysContext from '../../context/storys-context'\nimport { useHistory } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n  nested: {\n    marginLeft: theme.spacing(4)\n  }\n}))\n\nconst CollapsedList = () => {\n  const storys = useContext(storysContext)\n  const classes = useStyles()\n  const history = useHistory()\n  const onStoryClicked = id => {\n    history.push('/stories/' + id)\n  }\n  return (\n    <List component=\"div\" disablePadding className={classes.nested}>\n      {storys.map(story => {\n        return (\n          <ListItem\n            key={story.id}\n            button\n            onClick={() => onStoryClicked(story.id)}\n          >\n            <ListItemText primary={story.text[0].children[0].text} />\n          </ListItem>\n        )\n      })}\n    </List>\n  )\n}\n\nexport default CollapsedList\n","import React, { useState } from 'react'\nimport {\n  ListItem,\n  ListItemText,\n  Collapse,\n  ListItemIcon\n} from '@material-ui/core'\nimport ExpandLess from '@material-ui/icons/ExpandLess'\nimport ExpandMore from '@material-ui/icons/ExpandMore'\nimport ListIcon from '@material-ui/icons/List'\nimport CollapsedList from './CollapsedList'\n\nconst StoryList = () => {\n  const [expanded, setExpanded] = useState(false)\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  return (\n    <>\n      <ListItem button onClick={toggleExpanded}>\n        <ListItemIcon>\n          <ListIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"My Stories\" />\n        {expanded ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n        <CollapsedList />\n      </Collapse>\n    </>\n  )\n}\nexport default StoryList\n","import React from 'react'\nimport { ListItem, ListItemText, ListItemIcon } from '@material-ui/core'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport { useHistory } from 'react-router-dom'\n\nconst ProfileItem = () => {\n  const history = useHistory()\n  const goToProfile = () => {\n    history.push('/profile')\n  }\n  return (\n    <ListItem button onClick={goToProfile}>\n      <ListItemIcon>\n        <AccountBoxIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Profile\" />\n    </ListItem>\n  )\n}\n\nexport default ProfileItem\n","import React from 'react'\nimport { ListItem, ListItemIcon, ListItemText } from '@material-ui/core'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport { useHistory } from 'react-router-dom'\n\nconst SettingsItem = () => {\n  const history = useHistory()\n  const goToSettings = () => {\n    history.push('/settings')\n  }\n  return (\n    <ListItem button onClick={goToSettings}>\n      <ListItemIcon>\n        <SettingsIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Settings\" />\n    </ListItem>\n  )\n}\n\nexport default SettingsItem\n","import React, { useContext, useEffect } from 'react'\nimport {\n  Drawer,\n  List,\n  makeStyles,\n  Divider,\n  IconButton\n} from '@material-ui/core'\nimport NewStory from './NewStory'\nimport StoryList from './StoryList'\nimport useStorysApi from '../../hooks/useStorysApi'\nimport DrawerContext from '../../context/drawer-context'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport Profile from './ProfileItem'\nimport Settings from './SettingsItem'\nimport clsx from 'clsx'\n\nconst useStyles = makeStyles(theme => ({\n  drawer: {\n    width: 0,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  drawerOpen: {\n    width: theme.drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  nested: {\n    paddingLeft: theme.spacing(4)\n  },\n  drawerPaper: {\n    width: theme.drawerWidth\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar\n  }\n}))\n\nconst PermanentDrawer = () => {\n  const { index } = useStorysApi()\n  const { drawerOpen, closeDrawer } = useContext(DrawerContext)\n  // Indexing stories so that it gives my menu bar a chance to load them\n  // before the user presses the button.\n  useEffect(() => {\n    index()\n  }, [index])\n\n  const classes = useStyles()\n  return (\n    <Drawer\n      variant=\"persistent\"\n      open={drawerOpen}\n      className={clsx(classes.drawer, drawerOpen && classes.drawerOpen)}\n      classes={{ paper: classes.drawerPaper }}\n    >\n      <div className={classes.toolbar}>\n        <IconButton onClick={closeDrawer}>\n          <ChevronLeftIcon />\n        </IconButton>\n      </div>\n      <Divider />\n      <List>\n        <NewStory />\n        <StoryList />\n        <Divider />\n        <Profile />\n        <Settings />\n      </List>\n    </Drawer>\n  )\n}\n\nexport default PermanentDrawer\n","import React from 'react'\nimport Header from './Header/Header'\nimport { makeStyles } from '@material-ui/core'\n\nimport PermanentDrawer from './PermanentDrawer/PermanentDrawer'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  }\n}))\n\nconst Layout = ({ children }) => {\n  const classes = useStyles()\n  return (\n    <>\n      <Header />\n      <div className={classes.root}>\n        <PermanentDrawer />\n        {children}\n      </div>\n    </>\n  )\n}\n\nexport default Layout\n","import React, { useContext, useEffect, useCallback } from 'react'\nimport storysContext from './storys-context'\nimport { useParams } from 'react-router-dom'\nimport useStorysApi from '../hooks/useStorysApi'\n\nconst currentStoryContext = React.createContext({})\n\n// This context is a bit complex and confusing but it works for now\n// FIX latter\n// Have to fix this function now\nexport const CurrentStoryContextProvider = ({ children }) => {\n  // This will not change unless the user changes pages\n  const { id } = useParams()\n\n  // show relies on ajax and dispatch\n  // dispatch is set, and I think ajax is as well\n  // NEED to call multiple times so that loading and error are\n  // bound to the right objects\n  const { show, loading, error } = useStorysApi()\n\n  // This is to bind the id to the context for update and destroy\n  const { update: idUpdate } = useStorysApi()\n  const update = useCallback(\n    data => {\n      idUpdate(id, JSON.stringify(data))\n    },\n    [id, idUpdate]\n  )\n  const { destroy: idDestroy } = useStorysApi()\n  const destroy = useCallback(() => {\n    idDestroy(id)\n  }, [id, idDestroy])\n\n  // only run if the id changes\n  useEffect(() => {\n    show(id)\n  }, [id, show])\n  const story = useContext(storysContext).find(story => story.id === id)\n  if (story) {\n    return (\n      <currentStoryContext.Provider\n        value={{ story, loading, error, update, destroy }}\n      >\n        {children}\n      </currentStoryContext.Provider>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default currentStoryContext\n","import { useContext, useState, useEffect } from 'react'\nimport currentStoryContext from '../../context/current-story-context'\nimport SavedContext from '../../context/saving-data'\n\nconst usePageState = () => {\n  const { update, story } = useContext(currentStoryContext)\n  const [value, setValue] = useState(story.text)\n  const { setSaved } = useContext(SavedContext)\n  useEffect(() => {\n    setSaved(false)\n    const updateTimer = setTimeout(() => {\n      update(value)\n    }, 1000)\n    return () => {\n      clearTimeout(updateTimer)\n    }\n  }, [value, setSaved, update])\n  return [value, setValue]\n}\n\nexport default usePageState\n","import React from 'react'\nimport { Typography } from '@material-ui/core'\n\nconst useCustomElements = () => {\n  return props => {\n    return <Typography variant={props.element.type} {...props} />\n  }\n}\n\nexport default useCustomElements\n","import React from 'react'\n\nconst useCustomLeaf = () => {\n  return props => {\n    const { color = 'inherit' } = props.leaf\n    return (\n      <span style={{ color: color }} {...props.attributes}>\n        {props.children}\n      </span>\n    )\n  }\n}\n\nexport default useCustomLeaf\n","import { useCallback } from 'react'\nimport { Text } from 'slate'\n\nconst usePageDoctorate = () => {\n  const searches = []\n  const decorate = useCallback(\n    ([node, path]) => {\n      const ranges = []\n      searches.forEach(search => {\n        if (search[0] && Text.isText(node)) {\n          const { text } = node\n          const parts = text.split(search[0])\n          let offset = 0\n\n          parts.forEach((part, i) => {\n            if (i !== 0) {\n              ranges.push({\n                anchor: { path, offset: offset - search[0].length },\n                focus: { path, offset },\n                color: search[1]\n              })\n            }\n\n            offset = offset + part.length + search[0].length\n          })\n        }\n      })\n\n      return ranges\n    },\n    [searches]\n  )\n  return decorate\n}\n\nexport default usePageDoctorate\n\n// onKeyDown={e => {\n//   if (e.key === '&') {\n//     e.preventDefault()\n//     Transforms.setNodes(\n//       editor,\n//       { color: '#7a7' },\n//       // Apply it to text nodes, and split the text node up if the\n//       // selection is overlapping only part of it.\n//       { match: n => Text.isText(n), split: true }\n//     )\n//   }\n// }}\n","const usePageEvents = () => {\n  const onEvents = (event, editor) => {\n    if (event.key === '7' && event.ctrlKey) {\n    }\n    return null\n  }\n  return onEvents\n}\n\nexport default usePageEvents\n","import { Transforms, Node } from 'slate'\n\nconst withLayout = editor => {\n  const { normalizeNode } = editor\n\n  // From docs. Basically what this does is\n  // picks the first line and makes it a h4 tag,\n  // Next it picks all the other lines and makes them body text\n  editor.normalizeNode = ([node, path]) => {\n    if (path.length === 0) {\n      for (const [child, childPath] of Node.children(editor, path)) {\n        const type = childPath[0] === 0 ? 'h4' : 'body1'\n\n        if (child.type !== type) {\n          Transforms.setNodes(editor, { type }, { at: childPath })\n        }\n      }\n    }\n    return normalizeNode([node, path])\n  }\n\n  return editor\n}\nexport default withLayout\n","import React, { useMemo, useEffect } from 'react'\nimport { makeStyles, Fade } from '@material-ui/core'\nimport { Slate, Editable, withReact } from 'slate-react'\nimport { createEditor } from 'slate'\nimport usePageState from './usePageState'\nimport useCustomElements from './useCustomElements'\nimport useCustomLeaf from './useCustomLeaf'\nimport usePageDoctorate from './usePageDoctorate'\nimport usePageEvents from './usePageEvents'\nimport withLayout from './withLayout'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: 400,\n    background: theme.palette.background.paper,\n    boxShadow: theme.shadows[3],\n    margin: '20px auto 0',\n    padding: 20\n  }\n}))\n\nconst Page = () => {\n  const classes = useStyles()\n  const editor = useMemo(() => withReact(withLayout(createEditor())), [])\n  const [value, setValue] = usePageState()\n  const renderElement = useCustomElements()\n  const renderLeaf = useCustomLeaf()\n  const decorate = usePageDoctorate()\n  const onEvents = usePageEvents()\n  useEffect(() => {}, [])\n  return (\n    <Fade in={true} direction=\"up\">\n      <div className={classes.root}>\n        <div>\n          <Slate editor={editor} value={value} onChange={setValue}>\n            <Editable\n              placeholder={'Title...'}\n              renderElement={renderElement}\n              renderLeaf={renderLeaf}\n              decorate={decorate}\n              onKeyDown={event => onEvents(event, editor)}\n            />\n          </Slate>\n        </div>\n      </div>\n    </Fade>\n  )\n}\n\nexport default Page\n","import React, { useContext } from 'react'\nimport currentStoryContext from '../context/current-story-context'\nimport Page from '../components/Page/Page'\n\nconst Story = () => {\n  const { loading, error } = useContext(currentStoryContext)\n  if (error) {\n    // There was an auth error most likely\n    // go back to home\n  } else if (loading) {\n    // Loading the story\n  } else {\n    // Everting should be good\n    return <Page />\n  }\n  return null\n}\n\nexport default Story\n","import React from 'react'\nimport { LinearProgress, makeStyles } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2)\n    }\n  }\n}))\n\nconst Loading = () => {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <LinearProgress />\n    </div>\n  )\n}\n\nexport default Loading\n","import React, { useState } from 'react'\nimport { Snackbar, Typography, makeStyles } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    textAlign: 'center',\n    width: '100%',\n    padding: 20\n  }\n}))\n\nconst ErrorBar = ({ message, alertMessage }) => {\n  const classes = useStyles()\n  const [open, setOpen] = useState(true)\n  const handleClose = () => {\n    setOpen(false)\n  }\n  return (\n    <>\n      <div className={classes.root}>\n        <Typography variant=\"h3\">{message}</Typography>\n      </div>\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"error\">\n          {alertMessage || message}\n        </Alert>\n      </Snackbar>\n    </>\n  )\n}\n\nexport default ErrorBar\n","import React, { useContext } from 'react'\nimport storysContext from '../context/storys-context'\nimport {\n  makeStyles,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton\n} from '@material-ui/core'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport useStorysApi from '../hooks/useStorysApi'\nimport { useHistory } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    paddingTop: 20\n  },\n  list: {\n    background: theme.palette.background.paper,\n    width: 400\n  }\n}))\n\nconst StorysList = () => {\n  const history = useHistory()\n  const { destroy } = useStorysApi()\n  const handleDelete = id => {\n    destroy(id)\n  }\n  const handleItemClicked = id => {\n    history.push('/stories/' + id)\n  }\n  const classes = useStyles()\n  const storys = useContext(storysContext)\n  return (\n    <div className={classes.root}>\n      <List className={classes.list}>\n        {storys.map(story => {\n          return (\n            <ListItem\n              button\n              key={story.id}\n              onClick={() => handleItemClicked(story.id)}\n            >\n              <ListItemText primary={story.text[0].children[0].text} />\n              <ListItemSecondaryAction>\n                <IconButton edge=\"end\" onClick={() => handleDelete(story.id)}>\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          )\n        })}\n      </List>\n    </div>\n  )\n}\n\nexport default StorysList\n","import React, { useEffect } from 'react'\nimport useStorysApi from '../hooks/useStorysApi'\nimport Loading from './Loading'\nimport ErrorBar from './ErrorBar'\nimport StorysList from './StorysList'\n\nconst Stroys = () => {\n  // give this page access to call an index and display state of request\n  // Since this function exports an object, I am using object destructuring\n  // with renaming to specify which states to use\n  const { index, loading: indexLoading, error: indexError } = useStorysApi({\n    loading: true\n  })\n\n  // Index should only change if user token changes,\n  // Only re index when the user signs in again.\n  useEffect(() => {\n    index()\n  }, [index])\n\n  if (indexError) {\n    // Failed to index the stories\n    // most likely signed out or connection issue\n    return (\n      <ErrorBar\n        message=\"Oops. We can't find your stories\"\n        alertMessage=\"Couldn't find stories\"\n      />\n    )\n  } else if (indexLoading) {\n    // stories are loading should only briefly show,\n    // Show some sort of indicator to the user\n    return <Loading />\n  } else {\n    // Neither error or loading, which means stories should have loaded\n    return <StorysList />\n  }\n}\n\nexport default Stroys\n","import React from 'react'\n\nconst NotFound = () => {\n  return <div>404 not found</div>\n}\n\nexport default NotFound\n","import React, { useContext } from 'react'\nimport { Modal, makeStyles, Fade, Backdrop } from '@material-ui/core'\nimport modalContext from '../../../context/modal-context'\nimport { Alert } from '@material-ui/lab'\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    borderRadius: theme.shape.borderRadius,\n    transform: 'translate(-50%, -50%)'\n  }\n}))\n\nconst StyledModal = ({ name, children }) => {\n  const { current, close, setLoading, error, setError } = useContext(\n    modalContext\n  )\n  const classes = useStyles()\n  const closeModal = () => {\n    setError(false)\n    setLoading(false)\n    close()\n  }\n  return (\n    <Modal\n      className={classes.modal}\n      open={current === name}\n      onClose={closeModal}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 100\n      }}\n    >\n      <Fade in={current === name}>\n        <div className={classes.paper}>\n          {error && <Alert severity=\"error\">Failed</Alert>}\n          {children}\n        </div>\n      </Fade>\n    </Modal>\n  )\n}\n\nexport default StyledModal\n","import { useState } from 'react'\n\nexport const useInput = initialValue => {\n  const [value, setValue] = useState(initialValue)\n  const bind = {\n    value,\n    onChange: e => setValue(e.target.value)\n  }\n  const reset = () => setValue('')\n  return [value, bind, reset]\n}\nexport default useInput\n","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n\nexport const signUp = credentials => {\n  return axios({\n    method: 'POST',\n    url: apiUrl + '/sign-up',\n    data: {\n      credentials: {\n        email: credentials.email,\n        password: credentials.password,\n        password_confirmation: credentials.passwordConfirmation\n      }\n    }\n  })\n}\n\nexport const signIn = credentials => {\n  return axios({\n    url: apiUrl + '/sign-in',\n    method: 'POST',\n    data: {\n      credentials: {\n        email: credentials.email,\n        password: credentials.password\n      }\n    }\n  })\n}\n\nexport const signOut = token => {\n  return axios({\n    url: apiUrl + '/sign-out',\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n}\n\nexport const changePassword = (token, passwords) => {\n  return axios({\n    url: apiUrl + '/change-password',\n    method: 'PATCH',\n    headers: {\n      Authorization: `Token token=${token}`\n    },\n    data: {\n      passwords: {\n        old: passwords.oldPassword,\n        new: passwords.newPassword\n      }\n    }\n  })\n}\n","import { useContext } from 'react'\nimport modalContext from '../context/modal-context'\nimport { signIn, signUp, signOut, changePassword } from '../api/auth'\nimport userContext from '../context/user-context'\nimport { useHistory } from 'react-router-dom'\n\nconst useAuth = () => {\n  const { setLoading, close, setError } = useContext(modalContext)\n  const { token, setToken } = useContext(userContext)\n  const history = useHistory()\n  return {\n    signUp: credentials => {\n      setLoading(true)\n      setError(false)\n      signUp(credentials)\n        .then(() => {\n          setLoading(true)\n          setError(false)\n          signIn(credentials)\n            .then(({ data }) => {\n              setToken(data.user.token)\n              setLoading(false)\n              localStorage.setItem('token', JSON.stringify(data.user.token))\n              close()\n            })\n            .catch(() => {\n              setLoading(false)\n              setError(true)\n            })\n          setLoading(false)\n          close()\n        })\n        .catch(() => {\n          setLoading(false)\n          setError(true)\n        })\n    },\n    signIn: credentials => {\n      setLoading(true)\n      setError(false)\n      signIn(credentials)\n        .then(({ data }) => {\n          setToken(data.user.token)\n          setLoading(false)\n          localStorage.setItem('token', JSON.stringify(data.user.token))\n          close()\n        })\n        .catch(() => {\n          setLoading(false)\n          setError(true)\n        })\n    },\n    signOut: () => {\n      setLoading(true)\n      setError(false)\n      const temp = token\n      setToken('')\n      history.push('/')\n      signOut(token)\n        .then(() => {\n          setLoading(false)\n          localStorage.removeItem('token')\n        })\n        .catch(() => {\n          setToken(temp)\n          setLoading(false)\n          setError(true)\n        })\n    },\n    changePassword: passwords => {\n      setLoading(true)\n      setError(false)\n      changePassword(token, passwords)\n        .then(() => {\n          setLoading(false)\n        })\n        .catch(() => {\n          setLoading(false)\n          setError(true)\n        })\n    }\n  }\n}\n\nexport default useAuth\n","import React, { useContext, useEffect } from 'react'\nimport StyledModal from '../StyledModal/StyledModal'\nimport {\n  Button,\n  TextField,\n  FormControl,\n  makeStyles,\n  Typography,\n  FormLabel,\n  Checkbox,\n  FormControlLabel\n} from '@material-ui/core'\nimport useInput from '../../../hooks/useInput'\nimport useAuth from '../../../hooks/useAuth'\nimport modalContext from '../../../context/modal-context'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'grid',\n    gridTemplateRows: '80px 1fr 1fr 1fr 80px',\n    alignItems: 'center',\n    gridGap: '20px',\n    gridTemplateColumns: '300px'\n  }\n}))\n\nconst SignUpModal = () => {\n  const { current } = useContext(modalContext)\n  const classes = useStyles()\n  const { signUp } = useAuth()\n  const [email, bindEmail, resetEmail] = useInput('')\n  const [password, bindPassword, resetPassword] = useInput('')\n  const [\n    passwordConfirmation,\n    bindPasswordConfirmation,\n    resetPasswordConfirmation\n  ] = useInput('')\n  useEffect(() => {\n    resetEmail()\n    resetPassword()\n    resetPasswordConfirmation()\n  }, [current, resetEmail, resetPassword, resetPasswordConfirmation])\n  const onSignUpClicked = () => {\n    signUp({ email, password, passwordConfirmation })\n  }\n  return (\n    <StyledModal name=\"SignUp\">\n      <FormControl required error={false} className={classes.root}>\n        <Typography variant=\"h4\">Sign Up</Typography>\n        <TextField label=\"Email\" {...bindEmail} autoFocus />\n        <TextField type=\"password\" label=\"Password\" {...bindPassword} />\n        <TextField\n          type=\"password\"\n          label=\"Confirm\"\n          {...bindPasswordConfirmation}\n        />\n        <div>\n          <FormControlLabel\n            control={<Checkbox />}\n            label=\"This is not my real email\"\n          />\n        </div>\n        <Button onClick={onSignUpClicked} variant=\"contained\" color=\"primary\">\n          Create Account\n        </Button>\n        <FormLabel>Label</FormLabel>\n      </FormControl>\n    </StyledModal>\n  )\n}\n\nexport default SignUpModal\n","import React, { useContext, useEffect } from 'react'\nimport StyledModal from '../StyledModal/StyledModal'\nimport { Button, TextField } from '@material-ui/core'\nimport useInput from '../../../hooks/useInput'\nimport useAuth from '../../../hooks/useAuth'\nimport modalContext from '../../../context/modal-context'\n\nconst SignInModal = () => {\n  const [email, bindEmail, resetEmail] = useInput('')\n  const [password, bindPassword, resetPassword] = useInput('')\n  const { signIn } = useAuth()\n  const { current } = useContext(modalContext)\n  useEffect(() => {\n    resetPassword()\n    resetEmail()\n  }, [current, resetPassword, resetEmail])\n  const onSignInClicked = () => {\n    signIn({ email, password })\n  }\n  return (\n    <StyledModal name=\"SignIn\">\n      <TextField type=\"email\" label=\"Email\" {...bindEmail} autoFocus />\n      <TextField type=\"password\" label=\"Password\" {...bindPassword} />\n      <Button onClick={onSignInClicked}>Login</Button>\n    </StyledModal>\n  )\n}\n\nexport default SignInModal\n","import React, { useEffect, useContext } from 'react'\nimport StyledModal from '../StyledModal/StyledModal'\nimport { Button, TextField } from '@material-ui/core'\nimport useInput from '../../../hooks/useInput'\nimport useAuth from '../../../hooks/useAuth'\nimport modalContext from '../../../context/modal-context'\n\nconst ChangePasswordModal = () => {\n  const [oldPassword, bindOldPassword, resetOldPassword] = useInput('')\n  const [newPassword, bindNewPassword, resetNewPassword] = useInput('')\n  const { changePassword } = useAuth()\n  const { current } = useContext(modalContext)\n  const onSignInClicked = () => {\n    changePassword({ oldPassword, newPassword })\n  }\n  useEffect(() => {\n    resetNewPassword()\n    resetOldPassword()\n  }, [current, resetOldPassword, resetNewPassword])\n  return (\n    <StyledModal name=\"ChangePassword\">\n      <TextField\n        type=\"oldPassword\"\n        label=\"old password\"\n        {...bindOldPassword}\n        autoFocus\n      />\n      <TextField type=\"newPassword\" label=\"new\" {...bindNewPassword} />\n      <Button onClick={onSignInClicked}>Change</Button>\n    </StyledModal>\n  )\n}\n\nexport default ChangePasswordModal\n","import React from 'react'\nimport SignUpModal from './SignUpModal/SignUpModal'\nimport SignInModal from './SignIn/SignIn'\nimport ChangePasswordModal from './ChangePasswordModal/ChangePasswordModal'\n\nconst Modals = () => {\n  return (\n    <>\n      <SignUpModal />\n      <SignInModal />\n      <ChangePasswordModal />\n    </>\n  )\n}\n\nexport default Modals\n","import React, { useContext } from 'react'\nimport { Typography, makeStyles, Fade, Button } from '@material-ui/core'\nimport storysContext from '../context/storys-context'\nimport useAuth from '../hooks/useAuth'\nimport modalContext from '../context/modal-context'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: theme.spacing(10)\n  }\n}))\n\nconst Profile = () => {\n  const classes = useStyles()\n  const storys = useContext(storysContext)\n  const { signOut } = useAuth()\n  const { open } = useContext(modalContext)\n  const onSignOut = () => {\n    signOut()\n  }\n  const onChangePasswordPressed = () => {\n    open('ChangePassword')\n  }\n  return (\n    <Fade in={true}>\n      <div className={classes.root}>\n        <Typography variant=\"h2\" align=\"center\">\n          Total stories: {storys.length}, keep writing!\n        </Typography>\n        <Button\n          style={{ marginTop: '20px' }}\n          variant=\"outlined\"\n          onClick={onSignOut}\n        >\n          Log out\n        </Button>\n        <Button\n          style={{ marginTop: '20px' }}\n          variant=\"outlined\"\n          onClick={onChangePasswordPressed}\n        >\n          Change Password\n        </Button>\n      </div>\n    </Fade>\n  )\n}\n\nexport default Profile\n","import { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport React, { useState, useEffect } from 'react'\n\nconst defaultTheme = {\n  drawerWidth: 240\n}\n\nconst ThemeEditor = React.createContext(defaultTheme)\n\nexport const ThemeEditorProvider = ({ children }) => {\n  const [pojoTheme, setPojoTheme] = useState(defaultTheme)\n  const [theme, setTheme] = useState(createMuiTheme(pojoTheme))\n\n  useEffect(() => {\n    setTheme(createMuiTheme(pojoTheme))\n  }, [pojoTheme])\n\n  return (\n    <ThemeProvider theme={theme}>\n      <ThemeEditor.Provider value={setPojoTheme}>\n        {children}\n      </ThemeEditor.Provider>\n    </ThemeProvider>\n  )\n}\n\nexport default ThemeEditor\n","import React, { useContext } from 'react'\nimport { Switch, Typography, makeStyles, Fade } from '@material-ui/core'\nimport ThemeEditor from '../theme'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(5),\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n}))\n\nconst Settings = () => {\n  const classes = useStyles()\n  const editTheme = useContext(ThemeEditor)\n  const onChangeMode = e => {\n    editTheme(theme => ({\n      ...theme,\n      palette: {\n        type: e.target.checked ? 'dark' : 'light'\n      }\n    }))\n  }\n  return (\n    <Fade in={true}>\n      <div className={classes.root}>\n        <Typography variant=\"h5\">Dark Mode:</Typography>\n        <Switch onChange={onChangeMode}></Switch>\n      </div>\n    </Fade>\n  )\n}\n\nexport default Settings\n","import React, { useContext, useState, useEffect } from 'react'\nimport Layout from './Layout/Layout'\nimport Story from './views/Story'\nimport Storys from './views/Storys'\nimport { Route, Switch } from 'react-router-dom'\nimport NotFound from './views/NotFound'\nimport Modals from './components/Modal/Modals'\nimport { CurrentStoryContextProvider } from './context/current-story-context'\nimport Profile from './views/Profile'\nimport Settings from './views/Settings'\nimport userContext from './context/user-context'\nimport { Alert } from '@material-ui/lab'\nimport { makeStyles } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  absolute: {\n    position: 'absolute',\n    zIndex: 9999999,\n    bottom: 40,\n    left: '50%'\n  }\n}))\n\nconst App = () => {\n  const classes = useStyles()\n  const { token } = useContext(userContext)\n  const [success, setSuccess] = useState(false)\n  if (success) {\n    setTimeout(() => {\n      setSuccess(false)\n    }, 2000)\n  }\n  useEffect(() => {\n    setSuccess(token ? true : false)\n  }, [token])\n  return (\n    <Layout>\n      <div className={classes.absolute}>\n        {success && <Alert severity=\"success\">Success</Alert>}\n      </div>\n      <Modals />\n      <Switch>\n        <Route path=\"/404\">\n          <NotFound />\n        </Route>\n        <Route exact path=\"/stories\">\n          <Storys />\n        </Route>\n        <Route path=\"/stories/:id\">\n          <CurrentStoryContextProvider>\n            <Story />\n          </CurrentStoryContextProvider>\n        </Route>\n        <Route path=\"/profile\">\n          <Profile />\n        </Route>\n        <Route path=\"/settings\">\n          <Settings />\n        </Route>\n      </Switch>\n    </Layout>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nimport { ModalContextProvider } from './context/modal-context'\nimport { UserContextProvider } from './context/user-context'\nimport { CssBaseline } from '@material-ui/core'\nimport { ThemeEditorProvider } from './theme'\nimport { HashRouter } from 'react-router-dom'\nimport { StorysContextProvider } from './context/storys-context'\nimport { DrawerContextProvider } from './context/drawer-context'\nimport { SavedContextProvider } from './context/saving-data'\nconst rootJsx = (\n  <UserContextProvider>\n    <ModalContextProvider>\n      <ThemeEditorProvider>\n        <HashRouter>\n          <StorysContextProvider>\n            <DrawerContextProvider>\n              <SavedContextProvider>\n                <CssBaseline />\n                <App />\n              </SavedContextProvider>\n            </DrawerContextProvider>\n          </StorysContextProvider>\n        </HashRouter>\n      </ThemeEditorProvider>\n    </ModalContextProvider>\n  </UserContextProvider>\n)\n\nReactDOM.render(rootJsx, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}